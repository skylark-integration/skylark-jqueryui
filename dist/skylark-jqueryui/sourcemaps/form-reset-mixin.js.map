{"version":3,"sources":["form-reset-mixin.js"],"names":["define","$","ui","formResetMixin","_formResetHandler","form","this","setTimeout","instances","data","each","refresh","_bindFormResetHandler","element","_form","length","on","push","_unbindFormResetHandler","splice","inArray","removeData","off"],"mappings":";;;;;;;AAcAA,QACC,iBACA,SACA,aACE,SAAUC,GAEb,MAAOA,GAAEC,GAAGC,gBACXC,kBAAmB,WAClB,GAAIC,GAAOJ,EAAGK,KAGdC,YAAY,WACX,GAAIC,GAAYH,EAAKI,KAAM,0BAC3BR,GAAES,KAAMF,EAAW,WAClBF,KAAKK,eAKRC,sBAAuB,WAEtB,GADAN,KAAKD,KAAOC,KAAKO,QAAQC,QACnBR,KAAKD,KAAKU,OAAhB,CAIA,GAAIP,GAAYF,KAAKD,KAAKI,KAAM,8BAC1BD,GAAUO,QAGfT,KAAKD,KAAKW,GAAI,sBAAuBV,KAAKF,mBAE3CI,EAAUS,KAAMX,MAChBA,KAAKD,KAAKI,KAAM,0BAA2BD,KAG5CU,wBAAyB,WACxB,GAAMZ,KAAKD,KAAKU,OAAhB,CAIA,GAAIP,GAAYF,KAAKD,KAAKI,KAAM,0BAChCD,GAAUW,OAAQlB,EAAEmB,QAASd,KAAME,GAAa,GAC3CA,EAAUO,OACdT,KAAKD,KAAKI,KAAM,0BAA2BD,GAE3CF,KAAKD,KACHgB,WAAY,2BACZC,IAAK","file":"../form-reset-mixin.js","sourcesContent":["/*!\n * jQuery UI Form Reset Mixin @VERSION\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Form Reset Mixin\n//>>group: Core\n//>>description: Refresh input widgets when their form is reset\n//>>docs: http://api.jqueryui.com/form-reset-mixin/\n\ndefine( [\n\t\"skylark-jquery\",\n\t\"./form\",\n\t\"./version\"\n], function( $ ) {\n\nreturn $.ui.formResetMixin = {\n\t_formResetHandler: function() {\n\t\tvar form = $( this );\n\n\t\t// Wait for the form reset to actually happen before refreshing\n\t\tsetTimeout( function() {\n\t\t\tvar instances = form.data( \"ui-form-reset-instances\" );\n\t\t\t$.each( instances, function() {\n\t\t\t\tthis.refresh();\n\t\t\t} );\n\t\t} );\n\t},\n\n\t_bindFormResetHandler: function() {\n\t\tthis.form = this.element._form();\n\t\tif ( !this.form.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar instances = this.form.data( \"ui-form-reset-instances\" ) || [];\n\t\tif ( !instances.length ) {\n\n\t\t\t// We don't use _on() here because we use a single event handler per form\n\t\t\tthis.form.on( \"reset.ui-form-reset\", this._formResetHandler );\n\t\t}\n\t\tinstances.push( this );\n\t\tthis.form.data( \"ui-form-reset-instances\", instances );\n\t},\n\n\t_unbindFormResetHandler: function() {\n\t\tif ( !this.form.length ) {\n\t\t\treturn;\n\t\t}\n\n\t\tvar instances = this.form.data( \"ui-form-reset-instances\" );\n\t\tinstances.splice( $.inArray( this, instances ), 1 );\n\t\tif ( instances.length ) {\n\t\t\tthis.form.data( \"ui-form-reset-instances\", instances );\n\t\t} else {\n\t\t\tthis.form\n\t\t\t\t.removeData( \"ui-form-reset-instances\" )\n\t\t\t\t.off( \"reset.ui-form-reset\" );\n\t\t}\n\t}\n};\n\n});\n"]}
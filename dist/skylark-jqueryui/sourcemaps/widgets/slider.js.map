{"version":3,"sources":["widgets/slider.js"],"names":["define","$","widget","ui","mouse","version","widgetEventPrefix","options","animate","classes","ui-slider","ui-slider-handle","ui-slider-range","distance","max","min","orientation","range","step","value","values","change","slide","start","stop","numPages","_create","this","_keySliding","_mouseSliding","_animateOff","_handleIndex","_detectOrientation","_mouseInit","_calculateNewMax","_addClass","_refresh","_createRange","_createHandles","_setupEvents","_refreshValue","i","handleCount","existingHandles","element","find","handle","handles","length","slice","remove","push","add","join","appendTo","eq","each","data","attr","isArray","_valueMin","_removeClass","css","left","bottom","_off","_on","_handleEvents","_hoverable","_focusable","_destroy","_mouseDestroy","_mouseCapture","event","position","normValue","closestHandle","index","allowed","offset","mouseOverHandle","that","o","disabled","elementSize","width","outerWidth","height","outerHeight","elementOffset","x","pageX","y","pageY","_normValueFromMouse","_valueMax","thisDistance","Math","abs","_lastChangedValue","_start","trigger","target","parents","addBack","is","_clickOffset","top","parseInt","hasClass","_slide","_mouseStart","_mouseDrag","_mouseStop","_stop","_change","pixelTotal","pixelMouse","percentMouse","valueTotal","valueMouse","_trimAlignValue","_uiHash","uiHash","handleIndex","undefined","_hasMultipleValues","_trigger","newVal","otherVal","currentValue","newValues","newValue","arguments","_value","vals","_values","_setOption","key","valsLength","_super","_refreshRange","_setOptionDisabled","_toggleClass","val","valModStep","alignValue","parseFloat","toFixed","aboveMin","round","_precision","precision","_precisionOf","num","str","toString","decimal","indexOf","lastValPercent","valPercent","valueMin","valueMax","oRange","_set","queue","duration","keydown","curVal","keyCode","HOME","END","PAGE_UP","PAGE_DOWN","UP","RIGHT","DOWN","LEFT","preventDefault","keyup"],"mappings":"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","file":"../../widgets/slider.js","sourcesContent":["/*!\r\n * jQuery UI Slider @VERSION\r\n * http://jqueryui.com\r\n *\r\n * Copyright jQuery Foundation and other contributors\r\n * Released under the MIT license.\r\n * http://jquery.org/license\r\n */\r\n\r\n//>>label: Slider\r\n//>>group: Widgets\r\n//>>description: Displays a flexible slider with ranges and accessibility via keyboard.\r\n//>>docs: http://api.jqueryui.com/slider/\r\n//>>demos: http://jqueryui.com/slider/\r\n//>>css.structure: ../../themes/base/core.css\r\n//>>css.structure: ../../themes/base/slider.css\r\n//>>css.theme: ../../themes/base/theme.css\r\n\r\ndefine( [\r\n\t\t\t\"skylark-jquery\",\r\n\t\t\t\"./mouse\",\r\n\t\t\t\"../keycode\",\r\n\t\t\t\"../version\",\r\n\t\t\t\"../widget\"\r\n],function( $ ) {\r\n\r\nreturn $.widget( \"ui.slider\", $.ui.mouse, {\r\n\tversion: \"@VERSION\",\r\n\twidgetEventPrefix: \"slide\",\r\n\r\n\toptions: {\r\n\t\tanimate: false,\r\n\t\tclasses: {\r\n\t\t\t\"ui-slider\": \"ui-corner-all\",\r\n\t\t\t\"ui-slider-handle\": \"ui-corner-all\",\r\n\r\n\t\t\t// Note: ui-widget-header isn't the most fittingly semantic framework class for this\r\n\t\t\t// element, but worked best visually with a variety of themes\r\n\t\t\t\"ui-slider-range\": \"ui-corner-all ui-widget-header\"\r\n\t\t},\r\n\t\tdistance: 0,\r\n\t\tmax: 100,\r\n\t\tmin: 0,\r\n\t\torientation: \"horizontal\",\r\n\t\trange: false,\r\n\t\tstep: 1,\r\n\t\tvalue: 0,\r\n\t\tvalues: null,\r\n\r\n\t\t// Callbacks\r\n\t\tchange: null,\r\n\t\tslide: null,\r\n\t\tstart: null,\r\n\t\tstop: null\r\n\t},\r\n\r\n\t// Number of pages in a slider\r\n\t// (how many times can you page up/down to go through the whole range)\r\n\tnumPages: 5,\r\n\r\n\t_create: function() {\r\n\t\tthis._keySliding = false;\r\n\t\tthis._mouseSliding = false;\r\n\t\tthis._animateOff = true;\r\n\t\tthis._handleIndex = null;\r\n\t\tthis._detectOrientation();\r\n\t\tthis._mouseInit();\r\n\t\tthis._calculateNewMax();\r\n\r\n\t\tthis._addClass( \"ui-slider ui-slider-\" + this.orientation,\r\n\t\t\t\"ui-widget ui-widget-content\" );\r\n\r\n\t\tthis._refresh();\r\n\r\n\t\tthis._animateOff = false;\r\n\t},\r\n\r\n\t_refresh: function() {\r\n\t\tthis._createRange();\r\n\t\tthis._createHandles();\r\n\t\tthis._setupEvents();\r\n\t\tthis._refreshValue();\r\n\t},\r\n\r\n\t_createHandles: function() {\r\n\t\tvar i, handleCount,\r\n\t\t\toptions = this.options,\r\n\t\t\texistingHandles = this.element.find( \".ui-slider-handle\" ),\r\n\t\t\thandle = \"<span tabindex='0'></span>\",\r\n\t\t\thandles = [];\r\n\r\n\t\thandleCount = ( options.values && options.values.length ) || 1;\r\n\r\n\t\tif ( existingHandles.length > handleCount ) {\r\n\t\t\texistingHandles.slice( handleCount ).remove();\r\n\t\t\texistingHandles = existingHandles.slice( 0, handleCount );\r\n\t\t}\r\n\r\n\t\tfor ( i = existingHandles.length; i < handleCount; i++ ) {\r\n\t\t\thandles.push( handle );\r\n\t\t}\r\n\r\n\t\tthis.handles = existingHandles.add( $( handles.join( \"\" ) ).appendTo( this.element ) );\r\n\r\n\t\tthis._addClass( this.handles, \"ui-slider-handle\", \"ui-state-default\" );\r\n\r\n\t\tthis.handle = this.handles.eq( 0 );\r\n\r\n\t\tthis.handles.each( function( i ) {\r\n\t\t\t$( this )\r\n\t\t\t\t.data( \"ui-slider-handle-index\", i )\r\n\t\t\t\t.attr( \"tabIndex\", 0 );\r\n\t\t} );\r\n\t},\r\n\r\n\t_createRange: function() {\r\n\t\tvar options = this.options;\r\n\r\n\t\tif ( options.range ) {\r\n\t\t\tif ( options.range === true ) {\r\n\t\t\t\tif ( !options.values ) {\r\n\t\t\t\t\toptions.values = [ this._valueMin(), this._valueMin() ];\r\n\t\t\t\t} else if ( options.values.length && options.values.length !== 2 ) {\r\n\t\t\t\t\toptions.values = [ options.values[ 0 ], options.values[ 0 ] ];\r\n\t\t\t\t} else if ( $.isArray( options.values ) ) {\r\n\t\t\t\t\toptions.values = options.values.slice( 0 );\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif ( !this.range || !this.range.length ) {\r\n\t\t\t\tthis.range = $( \"<div>\" )\r\n\t\t\t\t\t.appendTo( this.element );\r\n\r\n\t\t\t\tthis._addClass( this.range, \"ui-slider-range\" );\r\n\t\t\t} else {\r\n\t\t\t\tthis._removeClass( this.range, \"ui-slider-range-min ui-slider-range-max\" );\r\n\r\n\t\t\t\t// Handle range switching from true to min/max\r\n\t\t\t\tthis.range.css( {\r\n\t\t\t\t\t\"left\": \"\",\r\n\t\t\t\t\t\"bottom\": \"\"\r\n\t\t\t\t} );\r\n\t\t\t}\r\n\t\t\tif ( options.range === \"min\" || options.range === \"max\" ) {\r\n\t\t\t\tthis._addClass( this.range, \"ui-slider-range-\" + options.range );\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tif ( this.range ) {\r\n\t\t\t\tthis.range.remove();\r\n\t\t\t}\r\n\t\t\tthis.range = null;\r\n\t\t}\r\n\t},\r\n\r\n\t_setupEvents: function() {\r\n\t\tthis._off( this.handles );\r\n\t\tthis._on( this.handles, this._handleEvents );\r\n\t\tthis._hoverable( this.handles );\r\n\t\tthis._focusable( this.handles );\r\n\t},\r\n\r\n\t_destroy: function() {\r\n\t\tthis.handles.remove();\r\n\t\tif ( this.range ) {\r\n\t\t\tthis.range.remove();\r\n\t\t}\r\n\r\n\t\tthis._mouseDestroy();\r\n\t},\r\n\r\n\t_mouseCapture: function( event ) {\r\n\t\tvar position, normValue, distance, closestHandle, index, allowed, offset, mouseOverHandle,\r\n\t\t\tthat = this,\r\n\t\t\to = this.options;\r\n\r\n\t\tif ( o.disabled ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\tthis.elementSize = {\r\n\t\t\twidth: this.element.outerWidth(),\r\n\t\t\theight: this.element.outerHeight()\r\n\t\t};\r\n\t\tthis.elementOffset = this.element.offset();\r\n\r\n\t\tposition = { x: event.pageX, y: event.pageY };\r\n\t\tnormValue = this._normValueFromMouse( position );\r\n\t\tdistance = this._valueMax() - this._valueMin() + 1;\r\n\t\tthis.handles.each( function( i ) {\r\n\t\t\tvar thisDistance = Math.abs( normValue - that.values( i ) );\r\n\t\t\tif ( ( distance > thisDistance ) ||\r\n\t\t\t\t( distance === thisDistance &&\r\n\t\t\t\t\t( i === that._lastChangedValue || that.values( i ) === o.min ) ) ) {\r\n\t\t\t\tdistance = thisDistance;\r\n\t\t\t\tclosestHandle = $( this );\r\n\t\t\t\tindex = i;\r\n\t\t\t}\r\n\t\t} );\r\n\r\n\t\tallowed = this._start( event, index );\r\n\t\tif ( allowed === false ) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\tthis._mouseSliding = true;\r\n\r\n\t\tthis._handleIndex = index;\r\n\r\n\t\tthis._addClass( closestHandle, null, \"ui-state-active\" );\r\n\t\tclosestHandle.trigger( \"focus\" );\r\n\r\n\t\toffset = closestHandle.offset();\r\n\t\tmouseOverHandle = !$( event.target ).parents().addBack().is( \".ui-slider-handle\" );\r\n\t\tthis._clickOffset = mouseOverHandle ? { left: 0, top: 0 } : {\r\n\t\t\tleft: event.pageX - offset.left - ( closestHandle.width() / 2 ),\r\n\t\t\ttop: event.pageY - offset.top -\r\n\t\t\t\t( closestHandle.height() / 2 ) -\r\n\t\t\t\t( parseInt( closestHandle.css( \"borderTopWidth\" ), 10 ) || 0 ) -\r\n\t\t\t\t( parseInt( closestHandle.css( \"borderBottomWidth\" ), 10 ) || 0 ) +\r\n\t\t\t\t( parseInt( closestHandle.css( \"marginTop\" ), 10 ) || 0 )\r\n\t\t};\r\n\r\n\t\tif ( !this.handles.hasClass( \"ui-state-hover\" ) ) {\r\n\t\t\tthis._slide( event, index, normValue );\r\n\t\t}\r\n\t\tthis._animateOff = true;\r\n\t\treturn true;\r\n\t},\r\n\r\n\t_mouseStart: function() {\r\n\t\treturn true;\r\n\t},\r\n\r\n\t_mouseDrag: function( event ) {\r\n\t\tvar position = { x: event.pageX, y: event.pageY },\r\n\t\t\tnormValue = this._normValueFromMouse( position );\r\n\r\n\t\tthis._slide( event, this._handleIndex, normValue );\r\n\r\n\t\treturn false;\r\n\t},\r\n\r\n\t_mouseStop: function( event ) {\r\n\t\tthis._removeClass( this.handles, null, \"ui-state-active\" );\r\n\t\tthis._mouseSliding = false;\r\n\r\n\t\tthis._stop( event, this._handleIndex );\r\n\t\tthis._change( event, this._handleIndex );\r\n\r\n\t\tthis._handleIndex = null;\r\n\t\tthis._clickOffset = null;\r\n\t\tthis._animateOff = false;\r\n\r\n\t\treturn false;\r\n\t},\r\n\r\n\t_detectOrientation: function() {\r\n\t\tthis.orientation = ( this.options.orientation === \"vertical\" ) ? \"vertical\" : \"horizontal\";\r\n\t},\r\n\r\n\t_normValueFromMouse: function( position ) {\r\n\t\tvar pixelTotal,\r\n\t\t\tpixelMouse,\r\n\t\t\tpercentMouse,\r\n\t\t\tvalueTotal,\r\n\t\t\tvalueMouse;\r\n\r\n\t\tif ( this.orientation === \"horizontal\" ) {\r\n\t\t\tpixelTotal = this.elementSize.width;\r\n\t\t\tpixelMouse = position.x - this.elementOffset.left -\r\n\t\t\t\t( this._clickOffset ? this._clickOffset.left : 0 );\r\n\t\t} else {\r\n\t\t\tpixelTotal = this.elementSize.height;\r\n\t\t\tpixelMouse = position.y - this.elementOffset.top -\r\n\t\t\t\t( this._clickOffset ? this._clickOffset.top : 0 );\r\n\t\t}\r\n\r\n\t\tpercentMouse = ( pixelMouse / pixelTotal );\r\n\t\tif ( percentMouse > 1 ) {\r\n\t\t\tpercentMouse = 1;\r\n\t\t}\r\n\t\tif ( percentMouse < 0 ) {\r\n\t\t\tpercentMouse = 0;\r\n\t\t}\r\n\t\tif ( this.orientation === \"vertical\" ) {\r\n\t\t\tpercentMouse = 1 - percentMouse;\r\n\t\t}\r\n\r\n\t\tvalueTotal = this._valueMax() - this._valueMin();\r\n\t\tvalueMouse = this._valueMin() + percentMouse * valueTotal;\r\n\r\n\t\treturn this._trimAlignValue( valueMouse );\r\n\t},\r\n\r\n\t_uiHash: function( index, value, values ) {\r\n\t\tvar uiHash = {\r\n\t\t\thandle: this.handles[ index ],\r\n\t\t\thandleIndex: index,\r\n\t\t\tvalue: value !== undefined ? value : this.value()\r\n\t\t};\r\n\r\n\t\tif ( this._hasMultipleValues() ) {\r\n\t\t\tuiHash.value = value !== undefined ? value : this.values( index );\r\n\t\t\tuiHash.values = values || this.values();\r\n\t\t}\r\n\r\n\t\treturn uiHash;\r\n\t},\r\n\r\n\t_hasMultipleValues: function() {\r\n\t\treturn this.options.values && this.options.values.length;\r\n\t},\r\n\r\n\t_start: function( event, index ) {\r\n\t\treturn this._trigger( \"start\", event, this._uiHash( index ) );\r\n\t},\r\n\r\n\t_slide: function( event, index, newVal ) {\r\n\t\tvar allowed, otherVal,\r\n\t\t\tcurrentValue = this.value(),\r\n\t\t\tnewValues = this.values();\r\n\r\n\t\tif ( this._hasMultipleValues() ) {\r\n\t\t\totherVal = this.values( index ? 0 : 1 );\r\n\t\t\tcurrentValue = this.values( index );\r\n\r\n\t\t\tif ( this.options.values.length === 2 && this.options.range === true ) {\r\n\t\t\t\tnewVal =  index === 0 ? Math.min( otherVal, newVal ) : Math.max( otherVal, newVal );\r\n\t\t\t}\r\n\r\n\t\t\tnewValues[ index ] = newVal;\r\n\t\t}\r\n\r\n\t\tif ( newVal === currentValue ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tallowed = this._trigger( \"slide\", event, this._uiHash( index, newVal, newValues ) );\r\n\r\n\t\t// A slide can be canceled by returning false from the slide callback\r\n\t\tif ( allowed === false ) {\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( this._hasMultipleValues() ) {\r\n\t\t\tthis.values( index, newVal );\r\n\t\t} else {\r\n\t\t\tthis.value( newVal );\r\n\t\t}\r\n\t},\r\n\r\n\t_stop: function( event, index ) {\r\n\t\tthis._trigger( \"stop\", event, this._uiHash( index ) );\r\n\t},\r\n\r\n\t_change: function( event, index ) {\r\n\t\tif ( !this._keySliding && !this._mouseSliding ) {\r\n\r\n\t\t\t//store the last changed value index for reference when handles overlap\r\n\t\t\tthis._lastChangedValue = index;\r\n\t\t\tthis._trigger( \"change\", event, this._uiHash( index ) );\r\n\t\t}\r\n\t},\r\n\r\n\tvalue: function( newValue ) {\r\n\t\tif ( arguments.length ) {\r\n\t\t\tthis.options.value = this._trimAlignValue( newValue );\r\n\t\t\tthis._refreshValue();\r\n\t\t\tthis._change( null, 0 );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\treturn this._value();\r\n\t},\r\n\r\n\tvalues: function( index, newValue ) {\r\n\t\tvar vals,\r\n\t\t\tnewValues,\r\n\t\t\ti;\r\n\r\n\t\tif ( arguments.length > 1 ) {\r\n\t\t\tthis.options.values[ index ] = this._trimAlignValue( newValue );\r\n\t\t\tthis._refreshValue();\r\n\t\t\tthis._change( null, index );\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\tif ( arguments.length ) {\r\n\t\t\tif ( $.isArray( arguments[ 0 ] ) ) {\r\n\t\t\t\tvals = this.options.values;\r\n\t\t\t\tnewValues = arguments[ 0 ];\r\n\t\t\t\tfor ( i = 0; i < vals.length; i += 1 ) {\r\n\t\t\t\t\tvals[ i ] = this._trimAlignValue( newValues[ i ] );\r\n\t\t\t\t\tthis._change( null, i );\r\n\t\t\t\t}\r\n\t\t\t\tthis._refreshValue();\r\n\t\t\t} else {\r\n\t\t\t\tif ( this._hasMultipleValues() ) {\r\n\t\t\t\t\treturn this._values( index );\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn this.value();\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\treturn this._values();\r\n\t\t}\r\n\t},\r\n\r\n\t_setOption: function( key, value ) {\r\n\t\tvar i,\r\n\t\t\tvalsLength = 0;\r\n\r\n\t\tif ( key === \"range\" && this.options.range === true ) {\r\n\t\t\tif ( value === \"min\" ) {\r\n\t\t\t\tthis.options.value = this._values( 0 );\r\n\t\t\t\tthis.options.values = null;\r\n\t\t\t} else if ( value === \"max\" ) {\r\n\t\t\t\tthis.options.value = this._values( this.options.values.length - 1 );\r\n\t\t\t\tthis.options.values = null;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif ( $.isArray( this.options.values ) ) {\r\n\t\t\tvalsLength = this.options.values.length;\r\n\t\t}\r\n\r\n\t\tthis._super( key, value );\r\n\r\n\t\tswitch ( key ) {\r\n\t\t\tcase \"orientation\":\r\n\t\t\t\tthis._detectOrientation();\r\n\t\t\t\tthis._removeClass( \"ui-slider-horizontal ui-slider-vertical\" )\r\n\t\t\t\t\t._addClass( \"ui-slider-\" + this.orientation );\r\n\t\t\t\tthis._refreshValue();\r\n\t\t\t\tif ( this.options.range ) {\r\n\t\t\t\t\tthis._refreshRange( value );\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// Reset positioning from previous orientation\r\n\t\t\t\tthis.handles.css( value === \"horizontal\" ? \"bottom\" : \"left\", \"\" );\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"value\":\r\n\t\t\t\tthis._animateOff = true;\r\n\t\t\t\tthis._refreshValue();\r\n\t\t\t\tthis._change( null, 0 );\r\n\t\t\t\tthis._animateOff = false;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"values\":\r\n\t\t\t\tthis._animateOff = true;\r\n\t\t\t\tthis._refreshValue();\r\n\r\n\t\t\t\t// Start from the last handle to prevent unreachable handles (#9046)\r\n\t\t\t\tfor ( i = valsLength - 1; i >= 0; i-- ) {\r\n\t\t\t\t\tthis._change( null, i );\r\n\t\t\t\t}\r\n\t\t\t\tthis._animateOff = false;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"step\":\r\n\t\t\tcase \"min\":\r\n\t\t\tcase \"max\":\r\n\t\t\t\tthis._animateOff = true;\r\n\t\t\t\tthis._calculateNewMax();\r\n\t\t\t\tthis._refreshValue();\r\n\t\t\t\tthis._animateOff = false;\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"range\":\r\n\t\t\t\tthis._animateOff = true;\r\n\t\t\t\tthis._refresh();\r\n\t\t\t\tthis._animateOff = false;\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t},\r\n\r\n\t_setOptionDisabled: function( value ) {\r\n\t\tthis._super( value );\r\n\r\n\t\tthis._toggleClass( null, \"ui-state-disabled\", !!value );\r\n\t},\r\n\r\n\t//internal value getter\r\n\t// _value() returns value trimmed by min and max, aligned by step\r\n\t_value: function() {\r\n\t\tvar val = this.options.value;\r\n\t\tval = this._trimAlignValue( val );\r\n\r\n\t\treturn val;\r\n\t},\r\n\r\n\t//internal values getter\r\n\t// _values() returns array of values trimmed by min and max, aligned by step\r\n\t// _values( index ) returns single value trimmed by min and max, aligned by step\r\n\t_values: function( index ) {\r\n\t\tvar val,\r\n\t\t\tvals,\r\n\t\t\ti;\r\n\r\n\t\tif ( arguments.length ) {\r\n\t\t\tval = this.options.values[ index ];\r\n\t\t\tval = this._trimAlignValue( val );\r\n\r\n\t\t\treturn val;\r\n\t\t} else if ( this._hasMultipleValues() ) {\r\n\r\n\t\t\t// .slice() creates a copy of the array\r\n\t\t\t// this copy gets trimmed by min and max and then returned\r\n\t\t\tvals = this.options.values.slice();\r\n\t\t\tfor ( i = 0; i < vals.length; i += 1 ) {\r\n\t\t\t\tvals[ i ] = this._trimAlignValue( vals[ i ] );\r\n\t\t\t}\r\n\r\n\t\t\treturn vals;\r\n\t\t} else {\r\n\t\t\treturn [];\r\n\t\t}\r\n\t},\r\n\r\n\t// Returns the step-aligned value that val is closest to, between (inclusive) min and max\r\n\t_trimAlignValue: function( val ) {\r\n\t\tif ( val <= this._valueMin() ) {\r\n\t\t\treturn this._valueMin();\r\n\t\t}\r\n\t\tif ( val >= this._valueMax() ) {\r\n\t\t\treturn this._valueMax();\r\n\t\t}\r\n\t\tvar step = ( this.options.step > 0 ) ? this.options.step : 1,\r\n\t\t\tvalModStep = ( val - this._valueMin() ) % step,\r\n\t\t\talignValue = val - valModStep;\r\n\r\n\t\tif ( Math.abs( valModStep ) * 2 >= step ) {\r\n\t\t\talignValue += ( valModStep > 0 ) ? step : ( -step );\r\n\t\t}\r\n\r\n\t\t// Since JavaScript has problems with large floats, round\r\n\t\t// the final value to 5 digits after the decimal point (see #4124)\r\n\t\treturn parseFloat( alignValue.toFixed( 5 ) );\r\n\t},\r\n\r\n\t_calculateNewMax: function() {\r\n\t\tvar max = this.options.max,\r\n\t\t\tmin = this._valueMin(),\r\n\t\t\tstep = this.options.step,\r\n\t\t\taboveMin = Math.round( ( max - min ) / step ) * step;\r\n\t\tmax = aboveMin + min;\r\n\t\tif ( max > this.options.max ) {\r\n\r\n\t\t\t//If max is not divisible by step, rounding off may increase its value\r\n\t\t\tmax -= step;\r\n\t\t}\r\n\t\tthis.max = parseFloat( max.toFixed( this._precision() ) );\r\n\t},\r\n\r\n\t_precision: function() {\r\n\t\tvar precision = this._precisionOf( this.options.step );\r\n\t\tif ( this.options.min !== null ) {\r\n\t\t\tprecision = Math.max( precision, this._precisionOf( this.options.min ) );\r\n\t\t}\r\n\t\treturn precision;\r\n\t},\r\n\r\n\t_precisionOf: function( num ) {\r\n\t\tvar str = num.toString(),\r\n\t\t\tdecimal = str.indexOf( \".\" );\r\n\t\treturn decimal === -1 ? 0 : str.length - decimal - 1;\r\n\t},\r\n\r\n\t_valueMin: function() {\r\n\t\treturn this.options.min;\r\n\t},\r\n\r\n\t_valueMax: function() {\r\n\t\treturn this.max;\r\n\t},\r\n\r\n\t_refreshRange: function( orientation ) {\r\n\t\tif ( orientation === \"vertical\" ) {\r\n\t\t\tthis.range.css( { \"width\": \"\", \"left\": \"\" } );\r\n\t\t}\r\n\t\tif ( orientation === \"horizontal\" ) {\r\n\t\t\tthis.range.css( { \"height\": \"\", \"bottom\": \"\" } );\r\n\t\t}\r\n\t},\r\n\r\n\t_refreshValue: function() {\r\n\t\tvar lastValPercent, valPercent, value, valueMin, valueMax,\r\n\t\t\toRange = this.options.range,\r\n\t\t\to = this.options,\r\n\t\t\tthat = this,\r\n\t\t\tanimate = ( !this._animateOff ) ? o.animate : false,\r\n\t\t\t_set = {};\r\n\r\n\t\tif ( this._hasMultipleValues() ) {\r\n\t\t\tthis.handles.each( function( i ) {\r\n\t\t\t\tvalPercent = ( that.values( i ) - that._valueMin() ) / ( that._valueMax() -\r\n\t\t\t\t\tthat._valueMin() ) * 100;\r\n\t\t\t\t_set[ that.orientation === \"horizontal\" ? \"left\" : \"bottom\" ] = valPercent + \"%\";\r\n\t\t\t\t$( this ).stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( _set, o.animate );\r\n\t\t\t\tif ( that.options.range === true ) {\r\n\t\t\t\t\tif ( that.orientation === \"horizontal\" ) {\r\n\t\t\t\t\t\tif ( i === 0 ) {\r\n\t\t\t\t\t\t\tthat.range.stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( {\r\n\t\t\t\t\t\t\t\tleft: valPercent + \"%\"\r\n\t\t\t\t\t\t\t}, o.animate );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ( i === 1 ) {\r\n\t\t\t\t\t\t\tthat.range[ animate ? \"animate\" : \"css\" ]( {\r\n\t\t\t\t\t\t\t\twidth: ( valPercent - lastValPercent ) + \"%\"\r\n\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\tqueue: false,\r\n\t\t\t\t\t\t\t\tduration: o.animate\r\n\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tif ( i === 0 ) {\r\n\t\t\t\t\t\t\tthat.range.stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( {\r\n\t\t\t\t\t\t\t\tbottom: ( valPercent ) + \"%\"\r\n\t\t\t\t\t\t\t}, o.animate );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tif ( i === 1 ) {\r\n\t\t\t\t\t\t\tthat.range[ animate ? \"animate\" : \"css\" ]( {\r\n\t\t\t\t\t\t\t\theight: ( valPercent - lastValPercent ) + \"%\"\r\n\t\t\t\t\t\t\t}, {\r\n\t\t\t\t\t\t\t\tqueue: false,\r\n\t\t\t\t\t\t\t\tduration: o.animate\r\n\t\t\t\t\t\t\t} );\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tlastValPercent = valPercent;\r\n\t\t\t} );\r\n\t\t} else {\r\n\t\t\tvalue = this.value();\r\n\t\t\tvalueMin = this._valueMin();\r\n\t\t\tvalueMax = this._valueMax();\r\n\t\t\tvalPercent = ( valueMax !== valueMin ) ?\r\n\t\t\t\t\t( value - valueMin ) / ( valueMax - valueMin ) * 100 :\r\n\t\t\t\t\t0;\r\n\t\t\t_set[ this.orientation === \"horizontal\" ? \"left\" : \"bottom\" ] = valPercent + \"%\";\r\n\t\t\tthis.handle.stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( _set, o.animate );\r\n\r\n\t\t\tif ( oRange === \"min\" && this.orientation === \"horizontal\" ) {\r\n\t\t\t\tthis.range.stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( {\r\n\t\t\t\t\twidth: valPercent + \"%\"\r\n\t\t\t\t}, o.animate );\r\n\t\t\t}\r\n\t\t\tif ( oRange === \"max\" && this.orientation === \"horizontal\" ) {\r\n\t\t\t\tthis.range.stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( {\r\n\t\t\t\t\twidth: ( 100 - valPercent ) + \"%\"\r\n\t\t\t\t}, o.animate );\r\n\t\t\t}\r\n\t\t\tif ( oRange === \"min\" && this.orientation === \"vertical\" ) {\r\n\t\t\t\tthis.range.stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( {\r\n\t\t\t\t\theight: valPercent + \"%\"\r\n\t\t\t\t}, o.animate );\r\n\t\t\t}\r\n\t\t\tif ( oRange === \"max\" && this.orientation === \"vertical\" ) {\r\n\t\t\t\tthis.range.stop( 1, 1 )[ animate ? \"animate\" : \"css\" ]( {\r\n\t\t\t\t\theight: ( 100 - valPercent ) + \"%\"\r\n\t\t\t\t}, o.animate );\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\r\n\t_handleEvents: {\r\n\t\tkeydown: function( event ) {\r\n\t\t\tvar allowed, curVal, newVal, step,\r\n\t\t\t\tindex = $( event.target ).data( \"ui-slider-handle-index\" );\r\n\r\n\t\t\tswitch ( event.keyCode ) {\r\n\t\t\t\tcase $.ui.keyCode.HOME:\r\n\t\t\t\tcase $.ui.keyCode.END:\r\n\t\t\t\tcase $.ui.keyCode.PAGE_UP:\r\n\t\t\t\tcase $.ui.keyCode.PAGE_DOWN:\r\n\t\t\t\tcase $.ui.keyCode.UP:\r\n\t\t\t\tcase $.ui.keyCode.RIGHT:\r\n\t\t\t\tcase $.ui.keyCode.DOWN:\r\n\t\t\t\tcase $.ui.keyCode.LEFT:\r\n\t\t\t\t\tevent.preventDefault();\r\n\t\t\t\t\tif ( !this._keySliding ) {\r\n\t\t\t\t\t\tthis._keySliding = true;\r\n\t\t\t\t\t\tthis._addClass( $( event.target ), null, \"ui-state-active\" );\r\n\t\t\t\t\t\tallowed = this._start( event, index );\r\n\t\t\t\t\t\tif ( allowed === false ) {\r\n\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tstep = this.options.step;\r\n\t\t\tif ( this._hasMultipleValues() ) {\r\n\t\t\t\tcurVal = newVal = this.values( index );\r\n\t\t\t} else {\r\n\t\t\t\tcurVal = newVal = this.value();\r\n\t\t\t}\r\n\r\n\t\t\tswitch ( event.keyCode ) {\r\n\t\t\t\tcase $.ui.keyCode.HOME:\r\n\t\t\t\t\tnewVal = this._valueMin();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase $.ui.keyCode.END:\r\n\t\t\t\t\tnewVal = this._valueMax();\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase $.ui.keyCode.PAGE_UP:\r\n\t\t\t\t\tnewVal = this._trimAlignValue(\r\n\t\t\t\t\t\tcurVal + ( ( this._valueMax() - this._valueMin() ) / this.numPages )\r\n\t\t\t\t\t);\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase $.ui.keyCode.PAGE_DOWN:\r\n\t\t\t\t\tnewVal = this._trimAlignValue(\r\n\t\t\t\t\t\tcurVal - ( ( this._valueMax() - this._valueMin() ) / this.numPages ) );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase $.ui.keyCode.UP:\r\n\t\t\t\tcase $.ui.keyCode.RIGHT:\r\n\t\t\t\t\tif ( curVal === this._valueMax() ) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnewVal = this._trimAlignValue( curVal + step );\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase $.ui.keyCode.DOWN:\r\n\t\t\t\tcase $.ui.keyCode.LEFT:\r\n\t\t\t\t\tif ( curVal === this._valueMin() ) {\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tnewVal = this._trimAlignValue( curVal - step );\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tthis._slide( event, index, newVal );\r\n\t\t},\r\n\t\tkeyup: function( event ) {\r\n\t\t\tvar index = $( event.target ).data( \"ui-slider-handle-index\" );\r\n\r\n\t\t\tif ( this._keySliding ) {\r\n\t\t\t\tthis._keySliding = false;\r\n\t\t\t\tthis._stop( event, index );\r\n\t\t\t\tthis._change( event, index );\r\n\t\t\t\tthis._removeClass( $( event.target ), null, \"ui-state-active\" );\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n} );\r\n\r\n});\r\n"]}
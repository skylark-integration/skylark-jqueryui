{"version":3,"sources":["effects/effect-bounce.js"],"names":["define","$","effects","options","done","doAnimate","element","properties","duration","ease","d","Deferred","animate","easing","resolve","promise","upAnim","downAnim","refValue","start","this","mode","hide","show","direction","distance","times","anims","speed","ref","motion","i","queue","length","createPlaceholder","skylark","langx","funcs","css","position","opacity","push","Math","pow","reduce","prev","curr","index","array","then"],"mappings":";;;;;;;AAeAA,QACC,iBACA,aACA,aACE,SAAUC,GAEb,MAAOA,GAAEC,QAAQF,OAAQ,SAAU,SAAUG,EAASC,GA8DrD,QAASC,GAAUC,EAAQC,EAAYC,EAAUC,GAChD,MAAO,YACN,GAAIC,GAAI,GAAIC,EAKZ,OAHAL,GAAQM,QAASL,EAAYC,EAAUK,EAAQ,WAC9CH,EAAEI,YAEIJ,EAAEK,SApEX,GAAIC,GAAQC,EAAUC,EAQrBC,EAPAb,EAAUL,EAAGmB,MAGbC,EAAOlB,EAAQkB,KACfC,EAAgB,SAATD,EACPE,EAAgB,SAATF,EACPG,EAAYrB,EAAQqB,WAAa,KAEjCC,EAAWtB,EAAQsB,SACnBC,EAAQvB,EAAQuB,OAAS,EAGzBC,EAAgB,EAARD,GAAcH,GAAQD,EAAO,EAAI,GACzCM,EAAQzB,EAAQK,SAAWmB,EAC3Bd,EAASV,EAAQU,OAGjBgB,EAAsB,OAAdL,GAAoC,SAAdA,EAAyB,MAAQ,OAC/DM,EAAyB,OAAdN,GAAoC,SAAdA,EACjCO,EAAI,CAEOzB,GAAQ0B,QAAQC,MAE5BhC,GAAEC,QAAQgC,kBAAmB5B,EAE7B,IAAI6B,GAAUlC,EAAEkC,QACfC,EAAQD,EAAQC,MAChBzB,EAAWyB,EAAMzB,SACd0B,IA6CJ,KA3CAnB,EAAWZ,EAAQgC,IAAKT,GAGlBJ,IACLA,EAAWnB,EAAiB,QAARuB,EAAgB,cAAgB,gBAAmB,GAExEV,EAAQb,EAAQiC,WAAWV,GAEtBN,IACJN,GAAauB,QAAS,GACtBvB,EAAUY,GAAQX,EAIlBZ,EACEgC,IAAK,UAAW,GAChBA,IAAKT,EAAKV,GAASW,EAAqB,GAAXL,EAA0B,EAAXA,IAE9CY,EAAMI,KAAKpC,EAAUC,EAAQW,EAAUW,EAAOf,KAI1CS,IACJG,GAAsBiB,KAAKC,IAAK,EAAGjB,EAAQ,IAG5CT,KACAA,EAAUY,GAAQX,EAgBVa,EAAIL,EAAOK,IAClBf,KACAA,EAAQa,GAAQV,GAAUW,GAAUL,EAAWA,GAE/CY,EAAMI,KAAKpC,EAAUC,EAAQU,EAAQY,EAAOf,IAE5CwB,EAAMI,KAAKpC,EAAUC,EAAQW,EAAUW,EAAOf,IAE9CY,EAAWH,EAAkB,EAAXG,EAAeA,EAAW,CAIxCH,KACJN,GAAWwB,QAAS,GACpBxB,EAAQa,GAAQV,GAAUW,KAAcL,EAAWA,GAEnDY,EAAMI,KAAKpC,EAAUC,EAAQU,EAAQY,EAAOf,KAG7CwB,EAAMI,KAAKrC,GACXiC,EAAMO,OAAO,SAASC,EAAMC,EAAMC,EAAOC,GACtC,MAAOH,GAAKI,KAAKH,IACjBnC,EAASG","file":"../../effects/effect-bounce.js","sourcesContent":["/*!\n * jQuery UI Effects Bounce @VERSION\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Bounce Effect\n//>>group: Effects\n//>>description: Bounces an element horizontally or vertically n times.\n//>>docs: http://api.jqueryui.com/bounce-effect/\n//>>demos: http://jqueryui.com/effect/\n\ndefine( [\n\t\"skylark-jquery\",\n\t\"../version\",\n\t\"../effect\"\n], function( $ ) {\n\nreturn $.effects.define( \"bounce\", function( options, done ) {\n\tvar upAnim, downAnim, refValue,\n\t\telement = $( this ),\n\n\t\t// Defaults:\n\t\tmode = options.mode,\n\t\thide = mode === \"hide\",\n\t\tshow = mode === \"show\",\n\t\tdirection = options.direction || \"up\",\n\t\tstart,\n\t\tdistance = options.distance,\n\t\ttimes = options.times || 5,\n\n\t\t// Number of internal animations\n\t\tanims = times * 2 + ( show || hide ? 1 : 0 ),\n\t\tspeed = options.duration / anims,\n\t\teasing = options.easing,\n\n\t\t// Utility:\n\t\tref = ( direction === \"up\" || direction === \"down\" ) ? \"top\" : \"left\",\n\t\tmotion = ( direction === \"up\" || direction === \"left\" ),\n\t\ti = 0,\n\n\t\tqueuelen = element.queue().length;\n\n\t$.effects.createPlaceholder( element );\n\n\tvar skylark = $.skylark,\n\t\tlangx = skylark.langx,\n\t\tDeferred = langx.Deferred;\n\tvar funcs = [];\n\n\trefValue = element.css( ref );\n\n\t// Default distance for the BIGGEST bounce is the outer Distance / 3\n\tif ( !distance ) {\n\t\tdistance = element[ ref === \"top\" ? \"outerHeight\" : \"outerWidth\" ]() / 3;\n\t}\n\tstart = element.position()[ref];\n\n\tif ( show ) {\n\t\tdownAnim = { opacity: 1 };\n\t\tdownAnim[ ref ] = refValue;\n\n\t\t// If we are showing, force opacity 0 and set the initial position\n\t\t// then do the \"first\" animation\n\t\telement\n\t\t\t.css( \"opacity\", 0 )\n\t\t\t.css( ref, start + (motion ? -distance * 2 : distance * 2 ));\n\n\t\tfuncs.push(doAnimate(element,downAnim, speed, easing));\n\t}\n\n\t// Start at the smallest distance if we are hiding\n\tif ( hide ) {\n\t\tdistance = distance / Math.pow( 2, times - 1 );\n\t}\n\n\tdownAnim = {};\n\tdownAnim[ ref ] = refValue;\n\n\n\tfunction doAnimate(element,properties, duration, ease) {\n\t\treturn function() {\n\t\t\tvar d = new Deferred();\n\n\t\t\telement.animate( properties, duration, easing ,function(){\n\t\t\t\td.resolve();\n\t\t\t});\n\t\t\treturn d.promise;\n\n\t\t}\n\t}\n\n\t// Bounces up/down/left/right then back to 0 -- times * 2 animations happen here\n\tfor ( ; i < times; i++ ) {\n\t\tupAnim = {};\n\t\tupAnim[ ref ] = start + ( motion ? -distance : distance) ;\n\n\t\tfuncs.push(doAnimate(element,upAnim, speed, easing));\n\n\t\tfuncs.push(doAnimate(element,downAnim, speed, easing));\n\n\t\tdistance = hide ? distance * 2 : distance / 2;\n\t}\n\n\t// Last Bounce when Hiding\n\tif ( hide ) {\n\t\tupAnim = { opacity: 0 };\n\t\tupAnim[ ref ] = start + ( motion ? -1 * distance : distance) ;\n\n\t\tfuncs.push(doAnimate(element,upAnim, speed, easing ));\n\t}\n\n\tfuncs.push(done);\n\tfuncs.reduce(function(prev, curr, index, array) {\n  \t\treturn prev.then(curr);\n\t}, Deferred.resolve());\n\t//element.queue( done );\n\n\t//$.effects.unshift( element, queuelen, anims + 1 );\n} );\n\n});\n"]}
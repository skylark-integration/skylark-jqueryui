{"version":3,"sources":["effects/effect-fold.js"],"names":["define","$","effects","options","done","doAnimate","element","properties","duration","ease","d","Deferred","animate","resolve","promise","this","mode","show","hide","size","percent","exec","horizFirst","ref","placeholder","createPlaceholder","start","cssClip","animation1","clip","extend","animation2","distance","queue","length","parseInt","css","clipToBox","skylark","langx","funcs","push","easing","reduce","prev","curr","index","array","then"],"mappings":";;;;;;;AAeAA,QACC,iBACA,aACA,aACE,SAAUC,GAEb,MAAOA,GAAEC,QAAQF,OAAQ,OAAQ,OAAQ,SAAUG,EAASC,GA6C3D,QAASC,GAAUC,EAAQC,EAAYC,EAAUC,GAChD,MAAO,YACN,GAAIC,GAAI,GAAIC,EAKZ,OAHAL,GAAQM,QAASL,EAAYC,EAAUC,EAAM,WAC5CC,EAAEG,YAEIH,EAAEI,SAjDX,GAAIR,GAAUL,EAAGc,MAChBC,EAAOb,EAAQa,KACfC,EAAgB,SAATD,EACPE,EAAgB,SAATF,EACPG,EAAOhB,EAAQgB,MAAQ,GACvBC,EAAU,YAAYC,KAAMF,GAC5BG,IAAenB,EAAQmB,WACvBC,EAAMD,GAAe,QAAS,WAAe,SAAU,SACvDd,EAAWL,EAAQK,SAAW,EAE9BgB,EAAcvB,EAAEC,QAAQuB,kBAAmBnB,GAE3CoB,EAAQpB,EAAQqB,UAChBC,GAAeC,KAAM5B,EAAE6B,UAAYJ,IACnCK,GAAeF,KAAM5B,EAAE6B,UAAYJ,IAEnCM,GAAaN,EAAOH,EAAK,IAAOG,EAAOH,EAAK,IAEjCjB,GAAQ2B,QAAQC,MAEvBd,KACJD,EAAOgB,SAAUf,EAAS,GAAK,IAAO,IAAMY,EAAUd,EAAO,EAAI,IAElEU,EAAWC,KAAMN,EAAK,IAAQJ,EAC9BY,EAAWF,KAAMN,EAAK,IAAQJ,EAC9BY,EAAWF,KAAMN,EAAK,IAAQ,EAEzBN,IACJX,EAAQqB,QAASI,EAAWF,MACvBL,GACJA,EAAYY,IAAKnC,EAAEC,QAAQmC,UAAWN,IAGvCA,EAAWF,KAAOH,EAInB,IAAIY,GAAUrC,EAAEqC,QACfC,EAAQD,EAAQC,MAChB5B,EAAW4B,EAAM5B,SACd6B,IAcChB,KACJgB,EAAMC,KAAKpC,EAAUmB,EAAYvB,EAAEC,QAAQmC,UAAWT,GAAcpB,EAAUL,EAAQuC,SACtFF,EAAMC,KAAKpC,EAAUmB,EAAYvB,EAAEC,QAAQmC,UAAWN,GAAcvB,EAAUL,EAAQuC,UAGvFF,EAAMC,KAAKpC,EAAUC,EAAQsB,EAAYpB,EAAUL,EAAQuC,SAC3DF,EAAMC,KAAKpC,EAAUC,EAAQyB,EAAYvB,EAAUL,EAAQuC,SAE3DF,EAAMC,KAAKrC,GACXoC,EAAMG,OAAO,SAASC,EAAMC,EAAMC,EAAOC,GACtC,MAAOH,GAAKI,KAAKH,IACjBlC,EAASE","file":"../../effects/effect-fold.js","sourcesContent":["/*!\n * jQuery UI Effects Fold @VERSION\n * http://jqueryui.com\n *\n * Copyright jQuery Foundation and other contributors\n * Released under the MIT license.\n * http://jquery.org/license\n */\n\n//>>label: Fold Effect\n//>>group: Effects\n//>>description: Folds an element first horizontally and then vertically.\n//>>docs: http://api.jqueryui.com/fold-effect/\n//>>demos: http://jqueryui.com/effect/\n\ndefine( [\n\t\"skylark-jquery\",\n\t\"../version\",\n\t\"../effect\"\n], function( $ ) {\n\nreturn $.effects.define( \"fold\", \"hide\", function( options, done ) {\n\n\t// Create element\n\tvar element = $( this ),\n\t\tmode = options.mode,\n\t\tshow = mode === \"show\",\n\t\thide = mode === \"hide\",\n\t\tsize = options.size || 15,\n\t\tpercent = /([0-9]+)%/.exec( size ),\n\t\thorizFirst = !!options.horizFirst,\n\t\tref = horizFirst ? [ \"right\", \"bottom\" ] : [ \"bottom\", \"right\" ],\n\t\tduration = options.duration / 2,\n\n\t\tplaceholder = $.effects.createPlaceholder( element ),\n\n\t\tstart = element.cssClip(),\n\t\tanimation1 = { clip: $.extend( {}, start ) },\n\t\tanimation2 = { clip: $.extend( {}, start ) },\n\n\t\tdistance = [ start[ ref[ 0 ] ], start[ ref[ 1 ] ] ],\n\n\t\tqueuelen = element.queue().length;\n\n\tif ( percent ) {\n\t\tsize = parseInt( percent[ 1 ], 10 ) / 100 * distance[ hide ? 0 : 1 ];\n\t}\n\tanimation1.clip[ ref[ 0 ] ] = size;\n\tanimation2.clip[ ref[ 0 ] ] = size;\n\tanimation2.clip[ ref[ 1 ] ] = 0;\n\n\tif ( show ) {\n\t\telement.cssClip( animation2.clip );\n\t\tif ( placeholder ) {\n\t\t\tplaceholder.css( $.effects.clipToBox( animation2 ) );\n\t\t}\n\n\t\tanimation2.clip = start;\n\t}\n\n\t// Animate\n\tvar skylark = $.skylark,\n\t\tlangx = skylark.langx,\n\t\tDeferred = langx.Deferred;\n\tvar funcs = [];\n\n\tfunction doAnimate(element,properties, duration, ease) {\n\t\treturn function() {\n\t\t\tvar d = new Deferred();\n\n\t\t\telement.animate( properties, duration, ease ,function(){\n\t\t\t\td.resolve();\n\t\t\t});\n\t\t\treturn d.promise;\n\n\t\t}\n\t}\n\n\tif ( placeholder ) {\n\t\tfuncs.push(doAnimate(placeholder,$.effects.clipToBox( animation1 ), duration, options.easing ));\n\t\tfuncs.push(doAnimate(placeholder,$.effects.clipToBox( animation2 ), duration, options.easing ));\n\t}\n\n\tfuncs.push(doAnimate(element,animation1, duration, options.easing ));\n\tfuncs.push(doAnimate(element,animation2, duration, options.easing ));\n\n\tfuncs.push(done);\n\tfuncs.reduce(function(prev, curr, index, array) {\n  \t\treturn prev.then(curr);\n\t}, Deferred.resolve());\n\t\n} );\n\n});\n"]}